<h1>Register New User</h1>
<div class="container">
  <div *ngIf="alert" class="alert alert-success alert-dismissible fade show" role="alert">
    <strong>Success!</strong> User registered successfully
    <button id="alert" (click)="closeAlert()" type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
  </div>
  <form [formGroup]="register" (ngSubmit)="collection()">
    <div class="form-group">
      <label>Name</label>
      <input name="name" minlength="4" pattern="[a-zA-Z ]*" type="text" class="form-control" placeholder="Enter Name"
        formControlName="name" [ngClass]="{'is-invalid':register.get('name').touched && register.get('name').invalid}"/> 
        <div class="invalid-feedback"> 
          <div>Name is required</div>
        </div>
    </div>
    <div class="form-group">
      <label>Email</label>
      <input name="email" type="text" class="form-control" placeholder="Enter Email" formControlName="email" />
      <div *ngIf="(email.invalid && email.touched) || email.dirty">
        <small *ngIf="email.errors?.required" class="text-danger">email is required</small>
        <small *ngIf="email.errors?.pattern" class="text-danger">Please provide a valid email address</small>
      </div>
    </div>
    <div class="form-group">
      <label>Password</label>
      <input name="password" pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[$@$!%*?&])[A-Za-z\d$@$!%*?&].{8,}$" type="password"
        class="form-control" placeholder="Enter Password" formControlName="password" />
        <div *ngIf="(password.invalid && password.touched) || password.dirty">
          <small *ngIf="password.errors?.required" class="text-danger">password is required</small>
          <small *ngIf="password.errors?.pattern" class="text-danger">Please provide a valid password</small>
        </div>
    </div>
    <button id="register" type="submit" [disabled]="register.invalid" class="btn btn-primary">Submit</button>
    <button  type="submit" class="btn btn-primary button" [routerLink]="['/login']"
      routerLinkActive="router-link-active">Back</button>
  </form>
</div>